CREATE TABLE bbd_application (id INT UNSIGNED AUTO_INCREMENT, member_type_id SMALLINT UNSIGNED, status TINYINT, title VARCHAR(6), first_name VARCHAR(20), last_name VARCHAR(20), email_address VARCHAR(80), submission_id BIGINT, program_year_id SMALLINT UNSIGNED, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX member_type_id_idx (member_type_id), INDEX program_year_id_idx (program_year_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_blog (id BIGINT UNSIGNED AUTO_INCREMENT, title TEXT NOT NULL, author_id BIGINT, blog text, image VARCHAR(255), status TINYINT DEFAULT 0 NOT NULL, alert_on_comment TINYINT(1) DEFAULT '0' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, slug VARCHAR(255), UNIQUE INDEX bbd_blog_sluggable_idx (slug), INDEX author_id_idx (author_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_blog_comment (id BIGINT UNSIGNED AUTO_INCREMENT, blog_id BIGINT UNSIGNED NOT NULL, author_id BIGINT NOT NULL, comment_text text, approved TINYINT DEFAULT 0 NOT NULL, parent_comment_id BIGINT UNSIGNED, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX blog_id_idx (blog_id), INDEX author_id_idx (author_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_blog_tag (id BIGINT UNSIGNED AUTO_INCREMENT, blog_id BIGINT UNSIGNED, tag_id INT UNSIGNED, INDEX blog_id_idx (blog_id), INDEX tag_id_idx (tag_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_calendar_event (id BIGINT UNSIGNED AUTO_INCREMENT, member_id BIGINT, event_type_id INT UNSIGNED, from_date DATETIME, to_date DATETIME, title TEXT, description TEXT, address TEXT, city VARCHAR(100), state VARCHAR(50), zip VARCHAR(20), contact_person VARCHAR(60), phone_number VARCHAR(60), email_address VARCHAR(100), website VARCHAR(100), status TINYINT DEFAULT 0 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX event_type_id_idx (event_type_id), INDEX member_id_idx (member_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_country (country_code VARCHAR(6) UNIQUE, disabled TINYINT(1) DEFAULT '0' NOT NULL, PRIMARY KEY(country_code)) ENGINE = INNODB;
CREATE TABLE bbd_event_file (id BIGINT UNSIGNED AUTO_INCREMENT, event_id BIGINT UNSIGNED, file_name VARCHAR(200) NOT NULL, photo_title TEXT, display_order SMALLINT, INDEX event_id_idx (event_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_event_member (id BIGINT AUTO_INCREMENT, event_id BIGINT UNSIGNED, member_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX event_id_idx (event_id), INDEX member_id_idx (member_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_event_type (id INT UNSIGNED AUTO_INCREMENT, type_name VARCHAR(100) NOT NULL UNIQUE, description TEXT, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_form_question (id INT UNSIGNED AUTO_INCREMENT, answer_type TINYINT UNSIGNED NOT NULL, question_text TEXT NOT NULL, help_message TEXT, parent_question_id INT UNSIGNED, disabled TINYINT(1) DEFAULT '0' NOT NULL, form_id INT UNSIGNED, mandatory TINYINT(1) DEFAULT '0' NOT NULL, group_code VARCHAR(20), display_order SMALLINT UNSIGNED, css_class VARCHAR(30), page_num SMALLINT, INDEX parent_question_id_idx (parent_question_id), INDEX form_id_idx (form_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_formquestion_option (id INT UNSIGNED AUTO_INCREMENT, question_id INT UNSIGNED, option_value VARCHAR(45) NOT NULL, option_text TEXT NOT NULL, pre_selected TINYINT(1) DEFAULT '0' NOT NULL, display_order TINYINT DEFAULT 0 NOT NULL, INDEX question_id_idx (question_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_sf_guard_user (id BIGINT AUTO_INCREMENT, first_name VARCHAR(255), last_name VARCHAR(255), email_address VARCHAR(255) NOT NULL UNIQUE, username VARCHAR(128) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active TINYINT(1) DEFAULT '1', is_super_admin TINYINT(1) DEFAULT '0', last_login DATETIME, is_member TINYINT, member_type_id SMALLINT UNSIGNED, country VARCHAR(6), application_id INT UNSIGNED, timezone VARCHAR(255), culture VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX is_active_idx_idx (is_active), INDEX member_type_id_idx (member_type_id), INDEX application_id_idx (application_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_member_type (id SMALLINT UNSIGNED AUTO_INCREMENT, type_name VARCHAR(45) NOT NULL UNIQUE, description VARCHAR(255), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_program_year (id SMALLINT UNSIGNED AUTO_INCREMENT, type_name VARCHAR(45) NOT NULL UNIQUE, from_date DATE NOT NULL, to_date DATE NOT NULL, is_active TINYINT(1) DEFAULT '0' NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_question (id INT UNSIGNED AUTO_INCREMENT, answer_type TINYINT UNSIGNED NOT NULL, question_text TEXT NOT NULL, help_message TEXT, parent_question_id INT UNSIGNED, disabled TINYINT(1) DEFAULT '0' NOT NULL, INDEX parent_question_id_idx (parent_question_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_question_bank (id INT UNSIGNED AUTO_INCREMENT, answer_type TINYINT UNSIGNED NOT NULL, question_text TEXT NOT NULL, help_message TEXT, parent_question_id INT UNSIGNED, disabled TINYINT(1) DEFAULT '0' NOT NULL, category_id SMALLINT UNSIGNED, INDEX parent_question_id_idx (parent_question_id), INDEX category_id_idx (category_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_question_category (id SMALLINT UNSIGNED AUTO_INCREMENT, category_name VARCHAR(255) NOT NULL UNIQUE, parent_category_id SMALLINT UNSIGNED, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_question_option (id INT UNSIGNED AUTO_INCREMENT, question_id INT UNSIGNED, option_value VARCHAR(45) NOT NULL, option_text TEXT NOT NULL, pre_selected TINYINT(1) DEFAULT '0' NOT NULL, display_order TINYINT DEFAULT 0 NOT NULL, INDEX question_id_idx (question_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_reminder (id BIGINT UNSIGNED AUTO_INCREMENT, member_id BIGINT, submission_form_id INT UNSIGNED NOT NULL, start_date DATETIME NOT NULL, alert_type TINYINT DEFAULT 0, show_onscreen TINYINT(1) DEFAULT '0' NOT NULL, send_email TINYINT(1) DEFAULT '0' NOT NULL, displayed TINYINT(1) DEFAULT '0' NOT NULL, emailed TINYINT(1) DEFAULT '0' NOT NULL, alert_title VARCHAR(255), alert_content text, record_id BIGINT UNSIGNED, INDEX submission_form_id_idx (submission_form_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_resource (id INT UNSIGNED AUTO_INCREMENT, title VARCHAR(255) NOT NULL, resource_type VARCHAR(100), members_only TINYINT(1), program_year_id SMALLINT UNSIGNED, disabled TINYINT(1), download_file_name VARCHAR(150), file_name VARCHAR(150), INDEX program_year_id_idx (program_year_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_resource_membertype (id BIGINT AUTO_INCREMENT, resource_id INT UNSIGNED, member_type_id SMALLINT UNSIGNED, INDEX resource_id_idx (resource_id), INDEX member_type_id_idx (member_type_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_sf_guard_forgot_password (id BIGINT AUTO_INCREMENT, user_id BIGINT NOT NULL, unique_key VARCHAR(255), expires_at DATETIME NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_sf_guard_group (id BIGINT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_sf_guard_group_permission (group_id BIGINT, permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(group_id, permission_id)) ENGINE = INNODB;
CREATE TABLE bbd_sf_guard_permission (id BIGINT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_sf_guard_remember_key (id BIGINT AUTO_INCREMENT, user_id BIGINT, remember_key VARCHAR(32), ip_address VARCHAR(50), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_sf_guard_user (id BIGINT AUTO_INCREMENT, first_name VARCHAR(255), last_name VARCHAR(255), email_address VARCHAR(255) NOT NULL UNIQUE, username VARCHAR(128) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active TINYINT(1) DEFAULT '1', is_super_admin TINYINT(1) DEFAULT '0', last_login DATETIME, is_member TINYINT, member_type_id SMALLINT UNSIGNED, country VARCHAR(6), application_id INT UNSIGNED, timezone VARCHAR(255), culture VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX is_active_idx_idx (is_active), INDEX bbd_sf_guard_user_is_member_idx (is_member), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_sf_guard_user_group (user_id BIGINT, group_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, group_id)) ENGINE = INNODB;
CREATE TABLE bbd_sf_guard_user_permission (user_id BIGINT, permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, permission_id)) ENGINE = INNODB;
CREATE TABLE bbd_site_page (id INT UNSIGNED AUTO_INCREMENT, title VARCHAR(255) NOT NULL, parent_page_id INT UNSIGNED, page_content TEXT, meta_keywords TEXT, meta_description TEXT, status TINYINT UNSIGNED DEFAULT 0, display_order INT UNSIGNED, template VARCHAR(50), members_only TINYINT(1), admin_only TINYINT(1), slug VARCHAR(255), UNIQUE INDEX bbd_site_page_sluggable_idx (slug), INDEX parent_page_id_idx (parent_page_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_submission (id BIGINT UNSIGNED AUTO_INCREMENT, form_id INT UNSIGNED, user_id BIGINT, submission_ip BIGINT, archieved TINYINT(1) DEFAULT '0' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), INDEX form_id_idx (form_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_submission_data (id BIGINT UNSIGNED AUTO_INCREMENT, submission_id BIGINT UNSIGNED NOT NULL, question_id INT UNSIGNED, answser_text TEXT, selected_options TEXT, answer_files TEXT, INDEX submission_id_idx (submission_id), INDEX question_id_idx (question_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_submission_form (id INT UNSIGNED AUTO_INCREMENT, form_code VARCHAR(40), form_name VARCHAR(100) NOT NULL, disabled TINYINT(1) DEFAULT '0' NOT NULL, frequency SMALLINT DEFAULT 0 NOT NULL, send_reminder TINYINT(1), form_description TEXT, template_name VARCHAR(40), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_survey (id INT UNSIGNED AUTO_INCREMENT, user_id BIGINT, status TINYINT, title TEXT, start_date DATE, end_date DATE, template_name VARCHAR(100), css_file VARCHAR(100), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_survey_data (id BIGINT UNSIGNED AUTO_INCREMENT, submission_id BIGINT UNSIGNED, survey_question_id BIGINT UNSIGNED, question_bank_id BIGINT UNSIGNED, answer_text TEXT, selected_options TEXT, INDEX submission_id_idx (submission_id), INDEX survey_question_id_idx (survey_question_id), INDEX question_bank_id_idx (question_bank_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_survey_invitation (id INT UNSIGNED AUTO_INCREMENT, survey_id INT UNSIGNED, member_id BIGINT, email_address VARCHAR(80) NOT NULL, sent TINYINT(1) DEFAULT '0' NOT NULL, INDEX survey_id_idx (survey_id), INDEX member_id_idx (member_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_survey_membertype (id BIGINT AUTO_INCREMENT, survey_id INT UNSIGNED, member_type_id SMALLINT UNSIGNED, INDEX survey_id_idx (survey_id), INDEX member_type_id_idx (member_type_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_survey_question (id BIGINT UNSIGNED AUTO_INCREMENT, survey_id INT UNSIGNED, parent_question_id INT UNSIGNED, question_id INT UNSIGNED, mandatory TINYINT(1) DEFAULT '0' NOT NULL, page_id TINYINT, disabled TINYINT(1) DEFAULT '0' NOT NULL, display_order SMALLINT DEFAULT 0 NOT NULL, INDEX survey_id_idx (survey_id), INDEX question_id_idx (question_id), INDEX question_bank_id_idx (question_bank_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_survey_submission (id BIGINT UNSIGNED AUTO_INCREMENT, survey_id INT UNSIGNED, status TINYINT DEFAULT 0, member_id BIGINT, page_number SMALLINT UNSIGNED, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX survey_id_idx (survey_id), INDEX member_id_idx (member_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE bbd_tag (id INT UNSIGNED AUTO_INCREMENT, tag VARCHAR(255), PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE bbd_application ADD CONSTRAINT bbd_application_program_year_id_bbd_program_year_id FOREIGN KEY (program_year_id) REFERENCES bbd_program_year(id) ON UPDATE CASCADE ON DELETE SET NULL;
ALTER TABLE bbd_application ADD CONSTRAINT bbd_application_member_type_id_bbd_member_type_id FOREIGN KEY (member_type_id) REFERENCES bbd_member_type(id) ON UPDATE CASCADE ON DELETE SET NULL;
ALTER TABLE bbd_blog ADD CONSTRAINT bbd_blog_author_id_bbd_sf_guard_user_id FOREIGN KEY (author_id) REFERENCES bbd_sf_guard_user(id) ON DELETE SET NULL;
ALTER TABLE bbd_blog_comment ADD CONSTRAINT bbd_blog_comment_blog_id_bbd_blog_id FOREIGN KEY (blog_id) REFERENCES bbd_blog(id) ON DELETE CASCADE;
ALTER TABLE bbd_blog_comment ADD CONSTRAINT bbd_blog_comment_author_id_bbd_sf_guard_user_id FOREIGN KEY (author_id) REFERENCES bbd_sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE bbd_blog_tag ADD CONSTRAINT bbd_blog_tag_tag_id_bbd_tag_id FOREIGN KEY (tag_id) REFERENCES bbd_tag(id) ON DELETE CASCADE;
ALTER TABLE bbd_blog_tag ADD CONSTRAINT bbd_blog_tag_blog_id_bbd_blog_id FOREIGN KEY (blog_id) REFERENCES bbd_blog(id) ON DELETE CASCADE;
ALTER TABLE bbd_calendar_event ADD CONSTRAINT bbd_calendar_event_member_id_bbd_sf_guard_user_id FOREIGN KEY (member_id) REFERENCES bbd_sf_guard_user(id) ON DELETE SET NULL;
ALTER TABLE bbd_calendar_event ADD CONSTRAINT bbd_calendar_event_event_type_id_bbd_event_type_id FOREIGN KEY (event_type_id) REFERENCES bbd_event_type(id) ON DELETE SET NULL;
ALTER TABLE bbd_event_file ADD CONSTRAINT bbd_event_file_event_id_bbd_calendar_event_id FOREIGN KEY (event_id) REFERENCES bbd_calendar_event(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE bbd_event_member ADD CONSTRAINT bbd_event_member_member_id_bbd_sf_guard_user_id FOREIGN KEY (member_id) REFERENCES bbd_sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE bbd_event_member ADD CONSTRAINT bbd_event_member_event_id_bbd_calendar_event_id FOREIGN KEY (event_id) REFERENCES bbd_calendar_event(id) ON DELETE CASCADE;
ALTER TABLE bbd_form_question ADD CONSTRAINT bbd_form_question_parent_question_id_bbd_question_id FOREIGN KEY (parent_question_id) REFERENCES bbd_question(id) ON UPDATE CASCADE ON DELETE SET NULL;
ALTER TABLE bbd_form_question ADD CONSTRAINT bbd_form_question_form_id_bbd_submission_form_id FOREIGN KEY (form_id) REFERENCES bbd_submission_form(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE bbd_formquestion_option ADD CONSTRAINT bbd_formquestion_option_question_id_bbd_form_question_id FOREIGN KEY (question_id) REFERENCES bbd_form_question(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE bbd_sf_guard_user ADD CONSTRAINT bbd_sf_guard_user_member_type_id_bbd_member_type_id FOREIGN KEY (member_type_id) REFERENCES bbd_member_type(id) ON UPDATE CASCADE ON DELETE SET NULL;
ALTER TABLE bbd_sf_guard_user ADD CONSTRAINT bbd_sf_guard_user_application_id_bbd_application_id FOREIGN KEY (application_id) REFERENCES bbd_application(id) ON UPDATE CASCADE ON DELETE SET NULL;
ALTER TABLE bbd_question ADD CONSTRAINT bbd_question_parent_question_id_bbd_question_id FOREIGN KEY (parent_question_id) REFERENCES bbd_question(id) ON UPDATE CASCADE ON DELETE SET NULL;
ALTER TABLE bbd_question_bank ADD CONSTRAINT bbd_question_bank_parent_question_id_bbd_question_bank_id FOREIGN KEY (parent_question_id) REFERENCES bbd_question_bank(id) ON UPDATE CASCADE ON DELETE SET NULL;
ALTER TABLE bbd_question_bank ADD CONSTRAINT bbd_question_bank_category_id_bbd_question_category_id FOREIGN KEY (category_id) REFERENCES bbd_question_category(id) ON DELETE SET NULL;
ALTER TABLE bbd_question_option ADD CONSTRAINT bbd_question_option_question_id_bbd_question_bank_id FOREIGN KEY (question_id) REFERENCES bbd_question_bank(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE bbd_reminder ADD CONSTRAINT bbd_reminder_submission_form_id_bbd_submission_form_id FOREIGN KEY (submission_form_id) REFERENCES bbd_submission_form(id) ON DELETE CASCADE;
ALTER TABLE bbd_resource ADD CONSTRAINT bbd_resource_program_year_id_bbd_program_year_id FOREIGN KEY (program_year_id) REFERENCES bbd_program_year(id) ON UPDATE CASCADE ON DELETE SET NULL;
ALTER TABLE bbd_resource_membertype ADD CONSTRAINT bbd_resource_membertype_resource_id_bbd_resource_id FOREIGN KEY (resource_id) REFERENCES bbd_resource(id) ON DELETE CASCADE;
ALTER TABLE bbd_resource_membertype ADD CONSTRAINT bbd_resource_membertype_member_type_id_bbd_member_type_id FOREIGN KEY (member_type_id) REFERENCES bbd_member_type(id) ON DELETE CASCADE;
ALTER TABLE bbd_sf_guard_forgot_password ADD CONSTRAINT bbd_sf_guard_forgot_password_user_id_bbd_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES bbd_sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE bbd_sf_guard_group_permission ADD CONSTRAINT bpbi FOREIGN KEY (permission_id) REFERENCES bbd_sf_guard_permission(id) ON DELETE CASCADE;
ALTER TABLE bbd_sf_guard_group_permission ADD CONSTRAINT bbd_sf_guard_group_permission_group_id_bbd_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES bbd_sf_guard_group(id) ON DELETE CASCADE;
ALTER TABLE bbd_sf_guard_remember_key ADD CONSTRAINT bbd_sf_guard_remember_key_user_id_bbd_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES bbd_sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE bbd_sf_guard_user_group ADD CONSTRAINT bbd_sf_guard_user_group_user_id_bbd_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES bbd_sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE bbd_sf_guard_user_group ADD CONSTRAINT bbd_sf_guard_user_group_group_id_bbd_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES bbd_sf_guard_group(id) ON DELETE CASCADE;
ALTER TABLE bbd_sf_guard_user_permission ADD CONSTRAINT bpbi_1 FOREIGN KEY (permission_id) REFERENCES bbd_sf_guard_permission(id) ON DELETE CASCADE;
ALTER TABLE bbd_sf_guard_user_permission ADD CONSTRAINT bbd_sf_guard_user_permission_user_id_bbd_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES bbd_sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE bbd_site_page ADD CONSTRAINT bbd_site_page_parent_page_id_bbd_site_page_id FOREIGN KEY (parent_page_id) REFERENCES bbd_site_page(id) ON UPDATE CASCADE ON DELETE SET NULL;
ALTER TABLE bbd_submission ADD CONSTRAINT bbd_submission_user_id_bbd_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES bbd_sf_guard_user(id) ON UPDATE CASCADE ON DELETE SET NULL;
ALTER TABLE bbd_submission ADD CONSTRAINT bbd_submission_form_id_bbd_submission_form_id FOREIGN KEY (form_id) REFERENCES bbd_submission_form(id) ON UPDATE CASCADE ON DELETE SET NULL;
ALTER TABLE bbd_submission_data ADD CONSTRAINT bbd_submission_data_submission_id_bbd_submission_id FOREIGN KEY (submission_id) REFERENCES bbd_submission(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE bbd_submission_data ADD CONSTRAINT bbd_submission_data_question_id_bbd_form_question_id FOREIGN KEY (question_id) REFERENCES bbd_form_question(id) ON UPDATE CASCADE ON DELETE SET NULL;
ALTER TABLE bbd_survey ADD CONSTRAINT bbd_survey_user_id_bbd_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES bbd_sf_guard_user(id) ON UPDATE CASCADE ON DELETE SET NULL;
ALTER TABLE bbd_survey_data ADD CONSTRAINT bbd_survey_data_survey_question_id_bbd_survey_question_id FOREIGN KEY (survey_question_id) REFERENCES bbd_survey_question(id) ON DELETE SET NULL;
ALTER TABLE bbd_survey_data ADD CONSTRAINT bbd_survey_data_submission_id_bbd_survey_submission_id FOREIGN KEY (submission_id) REFERENCES bbd_survey_submission(id) ON DELETE CASCADE;
ALTER TABLE bbd_survey_data ADD CONSTRAINT bbd_survey_data_question_bank_id_bbd_question_bank_id FOREIGN KEY (question_bank_id) REFERENCES bbd_question_bank(id) ON DELETE SET NULL;
ALTER TABLE bbd_survey_invitation ADD CONSTRAINT bbd_survey_invitation_survey_id_bbd_survey_id FOREIGN KEY (survey_id) REFERENCES bbd_survey(id) ON DELETE CASCADE;
ALTER TABLE bbd_survey_invitation ADD CONSTRAINT bbd_survey_invitation_member_id_bbd_sf_guard_user_id FOREIGN KEY (member_id) REFERENCES bbd_sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE bbd_survey_membertype ADD CONSTRAINT bbd_survey_membertype_survey_id_bbd_survey_id FOREIGN KEY (survey_id) REFERENCES bbd_survey(id) ON DELETE CASCADE;
ALTER TABLE bbd_survey_membertype ADD CONSTRAINT bbd_survey_membertype_member_type_id_bbd_member_type_id FOREIGN KEY (member_type_id) REFERENCES bbd_member_type(id) ON DELETE CASCADE;
ALTER TABLE bbd_survey_question ADD CONSTRAINT bbd_survey_question_survey_id_bbd_survey_id FOREIGN KEY (survey_id) REFERENCES bbd_survey(id) ON DELETE CASCADE;
ALTER TABLE bbd_survey_question ADD CONSTRAINT bbd_survey_question_question_id_bbd_question_bank_id FOREIGN KEY (question_id) REFERENCES bbd_question_bank(id) ON DELETE CASCADE;
ALTER TABLE bbd_survey_question ADD CONSTRAINT bbd_survey_question_question_bank_id_bbd_question_bank_id FOREIGN KEY (question_bank_id) REFERENCES bbd_question_bank(id) ON DELETE SET NULL;
ALTER TABLE bbd_survey_submission ADD CONSTRAINT bbd_survey_submission_survey_id_bbd_survey_id FOREIGN KEY (survey_id) REFERENCES bbd_survey(id) ON DELETE CASCADE;
ALTER TABLE bbd_survey_submission ADD CONSTRAINT bbd_survey_submission_member_id_bbd_sf_guard_user_id FOREIGN KEY (member_id) REFERENCES bbd_sf_guard_user(id) ON DELETE SET NULL;
